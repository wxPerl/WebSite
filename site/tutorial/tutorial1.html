<!doctype html public "-//W3C//DTD HTML 4.0//EN">
<html lang="en">

<head>
  <link rel="stylesheet" href="../default.css" type="text/css">
</head>

<body>
<h1>First steps</h1>

<a href="tutorial.html">Prev</a> <a href="tutorial2.html">Next</a>
<hr>

<h2>Description</h2>
<p>
  This program opens a window (more precisely a frame) and does nothing else.
</p>

<h2>Program</h2>
<pre>
    # this forces you to predeclare every variable, it isn't necessary,
    # but avoids some common mistakes (especially typos)
    use strict;            

    # import the Wx module
    use Wx;
</pre>

<p>
  Every wxPerl program must contain an application object: it manages global state
  and processes event (we shall see this later).
</p>

<pre>
    # every application must create an application object
    package MyApp;         

    # this tells Perl that your class (MyApp in this case) is derived from Wx::App
    use vars qw(@ISA);
    @ISA = qw(Wx::App); 
</pre>

<p>
  When an application object is created, wxPerl calls the OnInit method,
  which initializes application global data, and ususally creates one
  ( or more ) frames.
</p>

<pre>
    # this method is called automatically when an application object is first
    # constructed, all application-level initialization is done here
    sub OnInit {
      # retrieve the 'this' object
      my( $this ) = shift;
</pre>

<p>
  Finally we create the frame. The first parameter specifies no parent
  for the frame, the second is the window id ( -1 is a default id, since
  usually we don't care for frame ids ), the third is the frame title.
  The last two are the frame position and size; if you look at wxWindows 
  documentation you will see that the position is a wxPoint, and the size
  a wxSize; however if you had to write Wx::Point->new( 100, 100 ) and/or
  Wx::Size->new( 200, 150 ) everytime you need to specify a position or
  a size, you will soon get tired, so you may use [100, 100] or [200, 150] everywere
  a position/size is needed.
<p>

<pre>
      # create a new frame (a frame is a top level window)
      my( $frame ) = Wx::Frame->new( undef, -1, 'wxPerl rules', 
                                     [100, 100], [200, 150] 
                                    );
    
      # tell wxWindows to terminate when the main frame is closed
      $this->SetTopWindow( $frame );
    
      # show the frame
      $frame->Show( 1 );
    } 
    
    package main;
    
    # create the application object
    my( $app ) = MyApp->new();
    $app->MainLoop(); # this function will not return until
                      # the last frame is closed
</pre>

<p>
  <a href="first.pl.txt">Here</a> you can see the program at a glance
  (it is suffixed .pl.txt so your browser will not try to download it, 
   but from Perl's point of view this makes no difference).
</p>

<hr>
<a href="tutorial.html">Prev</a> <a href="tutorial2.html">Next</a>
</body>

</html>